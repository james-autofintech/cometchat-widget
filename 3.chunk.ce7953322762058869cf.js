(self.webpackChunkCometChatWidget=self.webpackChunkCometChatWidget||[]).push([[3],{1175:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DockedLauncher:()=>E}),n(8647),n(7594),n(9650),n(4509),n(8132),n(3e3),n(2586),n(2975),n(7482),n(5165),n(3509);var o,r=n(6540),i=n(5556),a=n.n(i),c=n(7437),u=n(6522),s=n(532),d=n(6722),l=(n(5853),n(8236),n(9813),n(2642),n(4614),n(6424));function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=(0,l.Pj)(),r=e.hasOwnProperty("alignment")&&"left"===e.alignment?{left:"".concat(n.dockedIconHorizontalPadding,"px"),right:"unset"}:{},i={background:"#03a9f4"};(0,d.u)(e.settings,"style","docked_layout_icon_background")&&(i={background:e.settings.style.docked_layout_icon_background});var a,c,u=t(o||(a=["\n    from {\n        opacity: 0;\n        transform: scale(0.5);\n    }\n    to {\n        opacity: 1;\n        transform: scale(1);\n    }"],c||(c=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(c)}}))));return y(y(h(h({zIndex:"2147483000",position:"fixed",bottom:"".concat(n.dockedBottomPadding,"px"),right:"".concat(n.dockedIconHorizontalPadding,"px"),width:"".concat(n.dockedIconWidth,"px"),height:"".concat(n.dockedIconHeight,"px"),boxShadow:"rgba(0, 0, 0, 0.06) 0px 1px 6px 0px, rgba(0, 0, 0, 0.16) 0px 2px 32px 0px",borderRadius:"50%",cursor:"pointer"},"boxShadow","0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16)"),"animation","".concat(u," 250ms ease")),r),i)},m=function(e){var t=(0,l.Pj)(),n={background:"#03a9f4"};return(0,d.u)(e.settings,"style","docked_layout_icon_background")&&(n={background:e.settings.style.docked_layout_icon_background}),y({position:"absolute",top:"0px",left:"0px",width:"".concat(t.dockedIconWidth,"px"),height:"".concat(t.dockedIconHeight,"px"),cursor:"pointer",transformOrigin:"center center 0px",borderRadius:"50%",overflow:"hidden",opacity:"1"},n)},v=function(e){return y({},!1===e.active?{opacity:"1",transform:"rotate(0deg) scale(1)"}:{opacity:"0",transform:"rotate(30deg) scale(0)"})},g=function(e){return y({},!0===e.active?{opacity:"1",transform:"rotate(0deg)"}:{opacity:"0",transform:"rotate(-60deg)"})},_=n(9468),w=n.n(_),O=n(2495),k=n.n(O);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,M(o.key),o)}}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function S(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(n=function(e,t,n){return t=C(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}(this,t,[e]),"componentDidMount",(function(){n.updateUnreadCount()})),S(n,"componentDidUpdate",(function(e){e.messagelist!==n.props.messagelist&&n.updateUnreadCount(),e.active!==n.props.active&&n.setState({active:n.props.active})})),S(n,"updateUnreadCount",(function(){if(0===Object.keys(n.props.messagelist).length)return!1;var e=n.props.messagelist,t=Object.values(e).reduce((function(e,t){return e+t}));n.setState({unreadcount:t})})),S(n,"toggleView",(function(){var e=n.state.active;n.setState({active:!e}),n.props.clicked()})),n.state={active:!1,unreadcount:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e,t=null;this.state.unreadcount&&(t=(0,c.Y)("div",{css:{position:"relative",zIndex:"2"}},(0,c.Y)("span",{css:(e=this.props,{backgroundColor:"#FF5757",borderRadius:"50%",textAlign:"center",color:"#FFFFFF",position:"absolute",top:"-8px",right:"-6px",display:"block",minWidth:"18px",minHeight:"18px",lineHeight:"18px",padding:"2px",fontSize:"13px",fontWeight:"bold",fontFamily:"".concat(e.theme.fontFamily)})},this.state.unreadcount)));var n=(0,c.Y)("img",{src:w(),css:v(this.state)});if((0,d.u)(this.props.settings,"style","docked_layout_icon_open")){var o=this.props.settings.style.docked_layout_icon_open;n=(0,c.Y)("img",{src:o,css:v(this.state)})}var r=(0,c.Y)("img",{src:k(),css:g(this.state)});if((0,d.u)(this.props.settings,"style","docked_layout_icon_close")){var i=this.props.settings.style.docked_layout_icon_close;r=(0,c.Y)("img",{src:i,css:g(this.state)})}return(0,c.Y)("div",{css:b(this.props,c.i7),onClick:this.toggleView,className:"app__launcher"},(0,c.Y)(u.Ay,{css:{maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",boxSizing:"border-box",border:"none",width:"100%",height:"100%"}},(0,c.Y)(s.V,null,t,(0,c.Y)("div",{css:m(this.props),className:"launcher__wrapper"},(0,c.Y)("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",img:{outline:"none",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",transition:"transform 0.16s linear, opacity 0.08s linear",objectFit:"contain"}},className:"launcher__container"},n,r)))))}}])&&j(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component);E.defaultProps={active:!1},E.propTypes={active:a().bool}},6424:(e,t,n)=>{"use strict";n.d(t,{At:()=>i,Pj:()=>a,bV:()=>o,yO:()=>r});var o="100%",r="100%",i=450,a=function(){var e={dockedIconWidth:60,dockedIconHeight:60,dockedBottomPadding:20,dockedHorizontalPadding:20,dockedIconHorizontalPadding:20};return window.innerWidth<=i&&(e.dockedIconWidth=40,e.dockedIconHeight=40,e.dockedBottomPadding=5,e.dockedHorizontalPadding=0,e.dockedIconHorizontalPadding=5),e}},532:(e,t,n)=>{"use strict";n.d(t,{V:()=>d});var o,r,i=n(6540),a=n(9214),c=n(5655),u=n(6522),s=(o=function(e){return(0,c.A)({container:e,key:"frameprovider"})},r=new WeakMap,function(e){if(r.has(e))return r.get(e);var t=o(e);return r.set(e,t),t}),d=function(e){return i.createElement(u.rH,null,(function(t){var n=t.document;return i.createElement(a.C,{value:s(n.head)},e.children)}))}},9468:(e,t,n)=>{e.exports=n.p+"resources/chat_bubble-69c0147ecd0768d77e050a4dbaa01aa3.svg"},2495:(e,t,n)=>{e.exports=n.p+"resources/chat_close-6dd39d23f41c1cfe35bc9ba1d0cd69a2.svg"},8011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(6540),i=(a(r),a(n(5556)));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return r.Children.only(this.props.children)}}]),t}(r.Component);c.propTypes={children:i.default.element.isRequired,contentDidMount:i.default.func.isRequired,contentDidUpdate:i.default.func.isRequired},t.default=c},7653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameContextConsumer=t.FrameContextProvider=t.FrameContext=void 0;var o,r=(o=n(6540))&&o.__esModule?o:{default:o},i=void 0,a=void 0;"undefined"!=typeof document&&(i=document),"undefined"!=typeof window&&(a=window);var c=t.FrameContext=r.default.createContext({document:i,window:a}),u=c.Provider,s=c.Consumer;t.FrameContextProvider=u,t.FrameContextConsumer=s},6719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6540),a=l(i),c=l(n(961)),u=l(n(5556)),s=n(7653),d=l(n(8011));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.handleLoad=function(){o.forceUpdate()},o._isMounted=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.getDoc();e&&"complete"===e.readyState?this.forceUpdate():this.node.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.node.removeEventListener("load",this.handleLoad)}},{key:"getDoc",value:function(){return this.node?this.node.contentDocument:null}},{key:"getMountTarget",value:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var e=this.getDoc();if(!e)return null;var t=this.props.contentDidMount,n=this.props.contentDidUpdate,o=e.defaultView||e.parentView,r=a.default.createElement(d.default,{contentDidMount:t,contentDidUpdate:n},a.default.createElement(s.FrameContextProvider,{value:{document:e,window:o}},a.default.createElement("div",{className:"frame-content"},this.props.children)));e.body.children.length<1&&(e.open("text/html","replace"),e.write(this.props.initialContent),e.close());var i=this.getMountTarget();return[c.default.createPortal(this.props.head,this.getDoc().head),c.default.createPortal(r,i)]}},{key:"render",value:function(){var e=this,t=o({},this.props,{children:void 0});return delete t.head,delete t.initialContent,delete t.mountTarget,delete t.contentDidMount,delete t.contentDidUpdate,a.default.createElement("iframe",o({},t,{ref:function(t){e.node=t}}),this.renderFrameContents())}}]),t}(i.Component);p.propTypes={style:u.default.object,head:u.default.node,initialContent:u.default.string,mountTarget:u.default.string,contentDidMount:u.default.func,contentDidUpdate:u.default.func,children:u.default.oneOfType([u.default.element,u.default.arrayOf(u.default.element)])},p.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},t.default=p},6522:(e,t,n)=>{"use strict";t.rH=void 0;var o=n(7653);Object.defineProperty(t,"rH",{enumerable:!0,get:function(){return o.FrameContextConsumer}});var r,i=(r=n(6719))&&r.__esModule?r:{default:r};t.Ay=i.default}}]);
//# sourceMappingURL=3.chunk.ce7953322762058869cf.js.map